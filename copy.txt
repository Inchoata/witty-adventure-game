import time
import sys
import pygame

def showHelp():
    answer = input("To see your inventory, enter 'inv'. \n"
          "To see your health, enter 'health' \n"
          "To see your XP, enter 'XP'\n"
          "To return to game, enter 'back'.")
    validateInput(answer)
    if answer == 'inv':
        showInventory()
    elif answer == 'health':
        showHealth()
    elif answer == 'xp':
        showXP()
    else:
        print("Invalid command.")
        #showHelp()

def showInventory():
    print("Inventory!")
    time.sleep(2)
    answer = input("To return to game, enter 'back'.")
    if answer == 'back':
        getCurrentLevel()
        returnToCurrentLevel(currentLevel)

def showHealth():
    print("showHealth")
    time.sleep(2)
    answer = input("To return to game, enter 'back'.")
    if answer == 'back':
        getCurrentLevel()
        returnToCurrentLevel(currentLevel)

def showXP():
    print("showXP")
    time.sleep(2)
    answer = input("To return to game, enter 'back'.")
    if answer == 'back':
        getCurrentLevel()
        returnToCurrentLevel(currentLevel)

def validateInput(answer):
    return answer.lower().strip()

def returnToCurrentLevel(currentLevel):
    if currentLevel == 1:
        levelOne()

def getCurrentLevel():
    return currentLevel




def levelOne():
    print("You awaken, head pounding. There is a bright light shining onto your face. Your eyes are sore and sticky.\n"
          "You open them and your eyes slowly adjust. You're alone in a bright, clinical room. Your hands are tied to\n"
          " what appears to a surgical operating table. There is a table beside you, upon which there are surgical \n"
          "tools. It looks like you could lean and reach one of the items with your mouth. What will you do?")
    time.sleep(1)
    print("A) Cry for help.\n B) Attempt to lean over to reach a scalpel with your mouth. \n C) Look around.\n"
    "Type 'help' for a full list of commands")
    answer = input()
    choice = validateInput(answer)
    if choice == "a":
        print("You cry for help. You hear commotion. Some people come in and murder you. You're dead.")
    elif choice == "b":
        print("You lean over and grab a scalpel with your mouth.")
        scalpel = 1
        print("Inventory: You have 1 scalpel.\n"
              "To view your inventory, enter 'inv'")
    elif choice == "c":
        print("You cry for help. You hear commotion. Some people come in and murder you. You're dead.")
    elif choice == "help":
        showHelp()


###############################################################################
####### Window setup #########

# Initialise screen
pygame.init()
screen = pygame.display.set_mode((600, 600))
pygame.display.set_caption("SOME COOL GAME NAME")
background = pygame.Surface((screen.get_size()))

BLACK = (0,0,0)
GREEN = (0,255,0)
background.fill(BLACK)

width = background.get_width()
height = background.get_height()

font = pygame.font.SysFont("Courier", 20)



def write(text, textPos):
    myfont = pygame.font.SysFont("Courier", 20)
    mytext = myfont.render(text, True, GREEN)
    screen.blit(mytext, (textPos))
    mytext = mytext.convert_alpha()
    return mytext


def showStartMenu():
    if event.type == pygame.KEYDOWN:
        if event.key == pygame.K_y:
            startGame()

    textList = ["Welcome to Super Fun Adventure Game!",
            "It doesn't have a story yet!",
            "But we will get to that later!",
            "Start game? (yes/no)"]

    textHeight = (height/6)

    for i in textList:
        text = font.render(i, True, (0,255,0))
        text_rect = text.get_rect(center=(width / 2, textHeight))
        screen.blit(text, text_rect)
        textHeight += (height/6)

def startGame():
    screen.fill(BLACK)
    pygame.display.flip()
    text = font.render("Game is starting!", True, GREEN)
    text_rect = text.get_rect(center=(width/2, height/2))
    screen.blit(text, text_rect)

#def main():

running = True

while running:

    event = pygame.event.poll()
    if event.type == pygame.QUIT:
        running = False
        break
    if event.type == pygame.KEYDOWN:
        if event.key == pygame.K_a:
            running = False
            break
    showStartMenu()
    pygame.display.flip()
pygame.quit()

####### Player setup ##########


# userInput = startGame()
# while userInput not in ['yes', 'no']:
#     print("Please enter a valid command.")
#     userInput = ''
#     startGame()
# if userInput == "yes":
#     currentLevel = 1
#     levelOne()
# else:
#     sys.exit()


